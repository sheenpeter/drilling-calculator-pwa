<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Drilling Calculator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- PWA manifest -->
  <link rel="manifest" href="manifest.json" />

  <!-- iOS install support -->
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="DrillingCalc" />
  <link rel="apple-touch-icon" href="icons/icon-192.png" />

  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <h1>Drilling Calculator</h1>
  </header>

  <main>
    <!-- Simple tab buttons -->
    <div class="tabs">
      <button class="tab-button active" data-target="#pressure">Pressure</button>
      <button class="tab-button" data-target="#hydraulics">Hydraulics</button>
      <button class="tab-button" data-target="#slug">Slug</button>
      <button class="tab-button" data-target="#volumes">Volumes</button>
    </div>

    <!-- Pressure calculator -->
    <section id="pressure" class="tab-content active">
      <h2>Pressure</h2>
      <div class="card">
        <label>
          Mud weight (ppg)
          <input id="mw_ppg" type="number" step="0.01" />
        </label>
        <label>
          TVD (ft)
          <input id="tvd_ft" type="number" step="1" />
        </label>
        <button onclick="calcPressure()">Calculate</button>

        <div class="results">
          <div>Pressure gradient (psi/ft): <span id="grad_out">0.0000</span></div>
          <div>Hydrostatic pressure (psi): <span id="hp_out">0.0</span></div>
          <div>Specific gravity: <span id="sg_out">0.000</span></div>
        </div>
      </div>
    </section>

    <!-- Hydraulics (annular velocity) -->
    <section id="hydraulics" class="tab-content">
      <h2>Hydraulics</h2>
      <div class="card">
        <label>
          Flow rate Q (gpm)
          <input id="q_gpm" type="number" step="1" />
        </label>
        <label>
          Dh (in) – hole / casing ID
          <input id="dh_in" type="number" step="0.01" />
        </label>
        <label>
          Dp (in) – pipe OD
          <input id="dp_in" type="number" step="0.01" />
        </label>
        <button onclick="calcHydraulics()">Calculate</button>

        <div class="results">
          <div>AV (ft/min): <span id="av_ftmin_out">0.0</span></div>
          <div>AV (ft/s): <span id="av_ftsec_out">0.00</span></div>
        </div>
      </div>
    </section>

    <!-- Slug calculator -->
    <section id="slug" class="tab-content">
      <h2>Slug</h2>
      <div class="card">
        <label>
          Mud weight (ppg)
          <input id="slug_mud_ppg" type="number" step="0.01" />
        </label>
        <label>
          Slug weight (ppg)
          <input id="slug_ppg" type="number" step="0.01" />
        </label>
        <label>
          Desired dry pipe (ft)
          <input id="dry_pipe_ft" type="number" step="1" />
        </label>
        <label>
          DP capacity (bbl/ft)
          <input id="dp_cap_bblft" type="number" step="0.00001" />
        </label>
        <button onclick="calcSlug()">Calculate</button>

        <div class="results">
          <div>HP required (psi): <span id="slug_hp_out">0.0</span></div>
          <div>Δ gradient (psi/ft): <span id="slug_dg_out">0.0000</span></div>
          <div>Slug length (ft): <span id="slug_len_out">0</span></div>
          <div>Slug volume (bbl): <span id="slug_vol_out">0.00</span></div>
        </div>
      </div>
    </section>

    <!-- Volumes & strokes -->
    <section id="volumes" class="tab-content">
      <h2>Volumes</h2>
      <div class="card">
        <label>
          DP ID (in)
          <input id="dp_id_in" type="number" step="0.01" />
        </label>
        <label>
          DP length (ft)
          <input id="dp_len_ft" type="number" step="1" />
        </label>
        <label>
          Pump output (bbl/stk)
          <input id="po_bbl_stk" type="number" step="0.0001" />
        </label>
        <button onclick="calcVolumes()">Calculate</button>

        <div class="results">
          <div>DP capacity (bbl/ft): <span id="dp_cap_out">0.00000</span></div>
          <div>DP volume (bbl): <span id="dp_vol_out">0.00</span></div>
          <div>Surface-to-bit strokes: <span id="surf_bit_stk_out">0</span></div>
        </div>
      </div>
    </section>
  </main>

  <script src="app.js"></script>
</body>
</html>
